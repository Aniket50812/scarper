{% extends 'base.html' %}

{% block content %}
    <div class="container">
        <h2>Your Cart</h2>
        
        <div class="cart-items">
            {% for book_id, item in cart.items() %}
                <div class="cart-item">
                    <div class="cart-item-info">
                        <h3>{{ item.title }}</h3>
                        <p>Price: ₹{{ item.price }}</p>
                        <p>Total Price: ₹{{ item.quantity * item.price }}</p>
                    </div>
                    
                    <div class="cart-item-quantity">
                        <p>Quantity: 
                            <form action="{{ url_for('update_quantity') }}" method="POST" style="display:inline;">
                                <input type="hidden" name="book_id" value="{{ book_id }}">
                                <button type="submit" name="action" value="decrease" class="quantity-btn">-</button>
                                <span class="quantity">{{ item.quantity }}</span>
                                <button type="submit" name="action" value="increase" class="quantity-btn">+</button>
                            </form>
                        </p>
                    </div>
                </div>
            {% endfor %}
        </div>

        <div class="cart-total">
            <h3>Total Price: ₹{{ total_price }}</h3>
        </div>

        <a href="{{ url_for('proceed_to_pay') }}" class="btn proceed-btn">Proceed to Pay</a>
    </div>
{% endblock %}
